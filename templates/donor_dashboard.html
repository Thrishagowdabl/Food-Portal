<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Donor Dashboard - Food Donation Portal</title>
    <style>
        body {
            font-family: 'Segoe UI', sans-serif;
            background-color: #f4f4f4;
            margin: 0;
            padding: 0;
            display: flex;
            flex-direction: column;
            min-height: 100vh;
            color: #333;
        }

        header {
            background-color: #000; /* Black Header */
            color: white; /* White text in header */
            padding: 1.5rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        nav ul {
            list-style-type: none;
            display: flex;
            gap: 20px;
            padding: 0;
            margin: 0;
        }

        nav ul li a {
            color: rgb(13, 13, 13);
            text-decoration: none;
            font-weight: bold;
            padding: 0.5rem 1rem;
            border-radius: 5px;
            transition: background-color 0.3s ease;
        }

        nav ul li a:hover {
            background-color: #fdf9f9; /* Dark Grey */
        }

        .donor-dashboard-container {
            max-width: 800px; /* As in the previous style */
            margin: 2rem auto; /* Center the container */
            background-color: white; /* As in the previous style */
            padding: 2rem; /* As in the previous style */
            border-radius: 10px; /* As in the previous style */
            box-shadow: 0 2px 6px rgba(0,0,0,0.1); /* As in the previous style */
        }

         h2, h3,h6 {
            color: #333; /* As in the previous style */
            margin-bottom: 1rem; 
            /* As in the previous style */
        }

        button {
            background-color: #00796b; /* As in the previous style */
            color: white; /* As in the previous style */
            padding: 10px 15px; /* As in the previous style */
            border: none; /* As in the previous style */
            border-radius: 6px; /* As in the previous style */
            cursor: pointer; /* As in the previous style */
            margin: 10px 0; /* As in the previous style */
        }

        button:hover {
            background-color: #004d40; /* As in the previous style */
        }

        #donationForm {
            margin-top: 1rem; /* As in the previous style */
            padding: 1rem; /* As in the previous style */
            border: 1px solid #ccc; /* As in the previous style */
            border-radius: 8px; /* As in the previous style */
            background-color: #fafafa; /* As in the previous style */
        }

        form p {
            margin-bottom: 1rem; /* As in the previous style */
        }

        form label {
            font-weight: bold; /* As in the previous style */
        }

        form input, form select, form textarea {
            width: 100%; /* As in the previous style */
            padding: 8px; /* As in the previous style */
            margin-top: 5px; /* As in the previous style */
            border: 1px solid #ccc; /* As in the previous style */
            border-radius: 6px; /* As in the previous style */
        }

        ul {
            list-style-type: none; /* As in the previous style */
            padding: 0;
            background-color: #0c0c0c /* As in the previous style */
        }

        ul li {
            background-color: #dee3e3; /* As in the previous style */
            margin-bottom: 10px; /* As in the previous style */
            padding: 10px; /* As in the previous style */
            border-radius: 8px; /* As in the previous style */
        }

        footer {
            text-align: center;
            padding: 1rem;
            background-color: #000; /* Black Footer */
            color: white; /* White text in footer */
            margin-top: 2rem;
        }
    </style>
</head>
<body>
    <header>
        <h1>Food Donation Portal</h1>
        <nav>
            <ul>
                <li><a href="{% url 'home' %}">Home</a></li>
                {% if user.is_authenticated %}
                    <li><a href="{% url 'donor_dashboard' %}">Donor Dashboard</a></li>
                    <li><a href="{% url 'logout' %}">Logout</a></li>
                {% else %}
                    <li><a href="{% url 'login' %}">Login</a></li>
                    <li><a href="{% url 'signup' %}">Signup</a></li>
                {% endif %}
            </ul>
        </nav>
    </header>

    <main>
        <div class="donor-dashboard-container">
            <h6>Welcome, {{ user.username }}!</h1>

            <h2>Your Donations</h2>

            <button id="postAvailabilityBtn" onclick="toggleForm()">Post Availability</button>

            <div id="donationForm" style="display:none;">
                <h3>Post Your Donation</h3>
                <form method="POST" enctype="multipart/form-data">
                    {% csrf_token %}
                    {{ form.as_p }}
                    <button type="submit">Submit</button>
                </form>
            </div>

            <h3>Your Posted Donations</h3>
            {% if donations %}
                <ul>
                    {% for donation in donations %}
                        <li>
                            <strong>{{ donation.food_type }}</strong> ({{ donation.quantity }})<br>
                            Pickup Location: {{ donation.pickup_location }}<br>
                            Pickup Time: {{ donation.pickup_time }}<br>
                            Expiry Date: {{ donation.expiry_date }}<br>
                            Status: {{ donation.status }}
                            <a href="{% url 'edit_donation' donation.id %}">Edit</a> |
                            <a href="{% url 'delete_donation' donation.id %}">Delete</a>
                        </li>
                    {% endfor %}
                </ul>
            {% else %}
                <p>You haven't posted any donations yet.</p>
            {% endif %}
        </div>
    </main>

    <footer class="footer mt-auto py-3 text-center">
        <div class="container">
            <h5>About Food Donation Portal</h5>
            <p class="mb-2">
                This platform connects food donors with individuals or organizations in need. Donors can easily post available food items, and receivers can request what they need. Our goal is to reduce food waste and ensure surplus food reaches those who need it the most.
            </p>
            <p class="mb-2">
                For any queries, contact us at: <a href="mailto:thrishagowdabl2005@gmail.com">thrishagowdabl2005@gmail.com</a>
            </p>
            <span>&copy; 2025 Food Donation Portal. All rights reserved.</span>
        </div>
    </footer>

    <script>
        // Toggle form visibility
        function toggleForm() {
            var form = document.getElementById('donationForm');
            if (form.style.display === 'none' || form.style.display === '') {
                form.style.display = 'block';
            } else {
                form.style.display = 'none';
            }
        }
    </script>
</body>
</html>